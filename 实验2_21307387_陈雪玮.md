# 本科生实验报告

**姓名：陈雪玮**

**学号：21307387**

## 1.实验要求

完成思考题

14.字符弹射程序。请编写一个字符弹射程序，其从点(2,0)处开始向右下角45度开始射出，遇到边界反弹，反弹后按45度角射出，方向视反弹位置而定。同时，你可以加入一些其他效果，如变色，双向射出等。注意，你的程序应该不超过510字节，否则无法放入MBR中被加载执行。

16.实模式中断

17.汇编代码的编写

## 2.实验步骤/实验过程

（图文结合，必要时提供流程图）

## 3.关键操作/关键代码

（提供关键操作/关键代码的解释、原理等）

## 4.实验结果

![](C:\Users\Chan\AppData\Roaming\marktext\images\2023-03-15-11-34-45-image.png)

（截图，并对结果解释）

## 5.总结

   (对实验过程中遇到的问题进行总结，可以提出对实验设置的改进意见)

## 6.参考

[x86段寄存器和分段机制 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/324210723#:~:text=x86%E5%B0%86%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E5%88%92%E5%88%86%E5%BE%88%E5%A4%9A%E6%AE%B5%EF%BC%88%E6%89%80%E6%9C%89%E7%9A%84%E6%93%8D%E4%BD%9C%E9%83%BD%E6%98%AF%E5%9C%A8%E7%9C%9F%E5%AE%9E%E7%9A%84%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E4%B8%8A%EF%BC%8C%E5%BD%93%E6%97%B6%E6%B2%A1%E6%9C%89%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%99%E4%B9%88%E4%B8%80%E8%AF%B4%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%B0%B1%E6%98%AF%E6%89%80%E8%B0%93%E7%9A%84%E5%AE%9E%E6%A8%A1%E5%BC%8F%EF%BC%89%EF%BC%8C%E6%AE%B5%E5%9F%BA%E5%9C%B0%E5%9D%80%E9%87%87%E7%94%A8%E4%B8%A4%E5%AD%97%E8%8A%82%E5%AF%B9%E9%BD%90,%2816%E7%9A%84%E5%80%8D%E6%95%B0%29%EF%BC%8C%E5%8D%B316%E4%BD%8D%E7%9A%84%E6%AE%B5%E5%AF%84%E5%AD%98%E5%99%A8%E5%8F%AA%E9%9C%80%E8%A6%81%E8%AE%B0%E5%BD%95%E5%9C%B0%E5%9D%80%E7%9A%84%E9%AB%9816%E4%BD%8D%EF%BC%8Cip%E5%AF%84%E5%AD%98%E5%99%A8%E8%AE%B0%E5%BD%95%E6%AE%B5%E5%86%85%E5%81%8F%E7%A7%BB%E9%87%8F%E3%80%82)

## 7.学习笔记

**如何在屏幕上显示**

在主引导扇区阶段， 0xB8000-0xBFFFF这段物理地址对应的内存是留给显卡的，每屏2000个字符，按顺序存放在这段空间里。所以我们想要在屏幕上输出，就要改写这段内存。

注意：不能用立即数给段寄存器赋值，所以需要使用ax累加寄存器帮助

一个字符两个字节

最后我们填充0x55，0xaa表示这512字节是MBR。

Linux中符号表的文件格式是ELF
